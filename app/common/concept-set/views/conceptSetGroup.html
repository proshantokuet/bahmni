
<style>
    table td, table th {
        padding: 5px 0px 5px 8px;
        border:none;
    }

    table tr {
        border: 0;
        border:none;
    }
    .form .form-field .field-attribute label, form .form-field .field-attribute label {
        width: 10em;
        float: left;
        text-align: right;
        margin: .7em .8em 0 0;
    }

}

.click-to-edit {
    display: inline-block;
}

.glyphicon.spinning {
    animation: spin 1s infinite linear;
    -webkit-animation: spin2 1s infinite linear;
}
@keyframes spin {
    from {
        transform: scale(1) rotate(0deg);
    }
    to {
        transform: scale(1) rotate(360deg);
    }
}
@-webkit-keyframes spin2 {
    from {
        -webkit-transform: rotate(0deg);
    }
    to {
        -webkit-transform: rotate(360deg);
    }
}

</style>

<div class="concept-set-panel clearfix">
    <div class="reg-body-wrapper">
        <div class="simple-form-ui new-patient">
            <form name="myForm" class="form-horizontal well" single-submit="create()">
                <div class="box-container box-container-default">
                    <div class="box-container box-container-patient-info patient-common-info-container">
                        <div class="form-field form-field-gender">
                            <section class="form-field form-field-gender">
                                <table width="100%" border="0" cellpadding="0" cellspacing="0" align="left;">
                                    <tr>
                                        <td>
                                            <article class="form-field">
                                                <div class="field-attribute">
                                                    <label>Clinic Name </label>
                                                </div>

                                            </article>
                                        </td>
                                        <td>
                                            <article class="form-field">


                                                <div class="field-value">
                                                    <div class="field-value">
                                                        <input ng-model="patientInfo.orgUnit" type="hidden"  />
                                                        <input ng-model="patientInfo.clinicName" type="text" readonly />
                                                    </div>
                                                </div>
                                            </article>
                                        </td>

                                        <td>
                                            <article class="form-field">
                                                <div class="field-attribute">
                                                    <label>Clinic Id</label>
                                                </div>


                                            </article>
                                        </td>
                                        <td>
                                            <article class="form-field">
                                                <div class="field-value">
                                                    <div class="field-value">
                                                        <input ng-model="patientInfo.clinicCode" type="text" readonly/>
                                                    </div>
                                                </div>
                                            </article>
                                        </td>

                                        <td>
                                            <article class="form-field">
                                                <div class="field-attribute">
                                                    <label>Slip No<span class="asterick">*</span></label>
                                                </div>
                                            </article>
                                        </td>
                                        <td>
                                            <article class="form-field">
                                                <div class="field-value">
                                                    <div class="field-value">
                                                        <input ng-model="patientInfo.slipNo" type="text" ng-required="true" autofocus/>
                                                    </div>
                                                </div>
                                            </article>
                                        </td>


                                    </tr>


                                    <tr>
                                        <td>
                                            <article class="form-field">
                                                <div class="field-attribute">
                                                    <label>Date<span class="asterick">*</span></label>
                                                </div>
                                            </article>
                                        </td>
                                        <td>
                                            <article class="form-field">
                                                <div class="field-value">
                                                    <div class="field-value">
                                                        <input id="txtDate" ng-model="patientInfo.moneyReceiptDate" type="date"  ng-required="true"/>
                                                    </div>
                                                </div>
                                            </article>
                                        </td>


                                         <td>
                                            <article class="form-field" >
                                                <div class="field-attribute">
                                                    <label>Service Point<span class="asterick">*</span></label>
                                                </div>
                                            </article>
                                        </td>
                                        <td>
                                            <article class="form-field" >
                                                <div class="field-value">
                                                    <div class="field-value">
                                                        <select ng-model="patientInfo.servicePoint" ng-options="servicePoint.name as servicePoint.name for servicePoint in servicePoints" ng-change="onChangedPateintInfo(patientInfo.servicePoint)" ng-required="true">
                                                        </select>
                                                    </div>
                                                </div>
                                            </article>
                                        </td>


                                        <td ng-show="patientInfo.servicePoint=='Satellite'">
                                            <article class="form-field" >
                                                <div class="field-attribute">
                                                    <label>Satellite Clinic Id</label>
                                                </div>
                                            </article>
                                        </td>
                                        <td ng-show="patientInfo.servicePoint=='Satellite'">
                                            <article class="form-field" >
                                                <div class="field-value">
                                                    <div class="field-value">
                                                        <input ng-model="patientInfo.sateliteClinicId" type="text"/>
                                                    </div>
                                                </div>
                                            </article>
                                        </td>
                                         <td ng-show="patientInfo.servicePoint=='CSP'">
                                            <article class="form-field" >
                                                <div class="field-attribute">
                                                    <label>CSP ID <span class="asterick">*</span></label>
                                                </div>
                                            </article>
                                        </td>
                                        <td ng-show="patientInfo.servicePoint=='CSP'">
                                            <article class="form-field" >
                                                <div class="field-value">
                                                    <div class="field-value">
                                                        <input ng-model="patientInfo.cspId" type="text" ng-required="patientInfo.servicePoint=='CSP'"/>
                                                    </div>
                                                </div>
                                            </article>
                                        </td>

                                    </tr>


                                    <tr>
                                        <td ng-show="patientInfo.servicePoint=='Satellite'">
                                            <article class="form-field">
                                                <div class="field-attribute">
                                                    <label>Team No</span></label>
                                                </div>
                                            </article>
                                        </td>
                                        <td ng-show="patientInfo.servicePoint=='Satellite'">
                                            <article class="form-field">
                                                <div class="field-value">
                                                    <div class="field-value">
                                                        <input ng-model="patientInfo.teamNo" type="text"/>
                                                    </div>
                                                </div>
                                            </article>
                                        </td>




                                        <td ng-show="patientInfo.servicePoint=='Satellite'">
                                            <article class="form-field">
                                                <div class="field-attribute">
                                                    <label>Session<span class="asterick">*</span></label>
                                                </div>
                                            </article>
                                        </td>
                                        <td ng-show="patientInfo.servicePoint=='Satellite'">
                                            <article class="form-field">
                                                <div class="field-value">
                                                    <div class="field-value">
                                                        <select ng-model="patientInfo.session" ng-options=" session.name as session.name for session in sessions" ng-required="patientInfo.servicePoint=='Satellite'">

                                                        </select>

                                                    </div>
                                                </div>
                                            </article>
                                        </td>

                                        <td ng-show="patientInfo.session=='Others'">
                                            <article class="form-field" >
                                                <div class="field-attribute">
                                                    <label>Other's Session Name<span class="asterick">*</span></label>
                                                </div>
                                            </article>
                                        </td>
                                        <td ng-show="patientInfo.session=='Others'">
                                            <article class="form-field" >
                                                <div class="field-value">
                                                    <div class="field-value">
                                                        <input ng-model="patientInfo.other" type="text" ng-required="patientInfo.session=='Others'"/>
                                                    </div>
                                                </div>
                                            </article>
                                        </td>


                                    </tr>

                                    <tr>

                                        <td>
                                            <article class="form-field" >
                                                <div class="field-attribute">
                                                    <label>Reference<span class="asterick">*</span></label>
                                                </div>
                                            </article>
                                        </td>
                                        <td>
                                            <article class="form-field" >
                                                <div class="field-value">
                                                    <div class="field-value">
                                                         <select ng-model="patientInfo.reference" ng-options=" reference.name as reference.name for reference in references" ng-required="true">

                                                        </select>
                                                    </div>
                                                </div>
                                            </article>
                                        </td>
                                        <td ng-show="patientInfo.reference=='External' || patientInfo.reference =='CSP'">
                                            <article class="form-field">
                                                <div class="field-attribute">
                                                    <label>{{patientInfo.reference}} Id</label>
                                                </div>
                                            </article>
                                        </td>
                                        <td ng-show="patientInfo.reference=='External' || patientInfo.reference =='CSP'">
                                            <article class="form-field">
                                                <div class="field-value">
                                                    <div class="field-value">
                                                        <input ng-model="patientInfo.referenceId" type="text"/>
                                                    </div>
                                                </div>
                                            </article>
                                        </td>
                                    </tr>


                                </table>
                            </section>
                        </div>
                    </div>
                </div>

                <div class="box-container box-container-default" id="serviceSection">
                    <div class="box-container box-container-patient-info patient-common-info-container">
                        <div class="form-field form-field-gender">
                            <section class="form-field form-field-gender">
                                <table id="addItemTable" width="100%" border="0" cellpadding="0" cellspacing="0" align="left;">
                                    <tr data-ng-repeat="service in services track by $index">

                                        <td>
                                            <article class="form-field">
                                                <div class="field-value">
                                                    <div class="field-value">
                                                        <label>Service<span class="asterick">*</span></label>
                                                        <select  ng-model="service.item" ng-change="onChanged(service.item, $index)"
                                                                 ng-options="itm as itm.name for itm in serviceList" ng-required="true">
                                                        </select>
                                                    </div>
                                                </div>
                                            </article>
                                        </td>

                                        <td>
                                            <article class="form-field" >
                                                <div class="field-value">
                                                    <div class="field-value">
                                                         <label>Description</label>
                                                        <input ng-model="service.description" style="width: 15em;" type="text" />
                                                    </div>
                                                </div>
                                            </article>
                                        </td>

                                        <td>
                                            <article class="form-field">
                                                <div class="field-value">
                                                    <div class="field-value">
                                                         <label>Unit Cost<span class="asterick">*</span></label>
                                                        <input ng-model="service.unitCost" style="width: 5em;" type="number"  step="any" ng-required="true" readonly/>
                                                    </div>
                                                </div>
                                            </article>
                                        </td>

                                        <td>
                                            <article class="form-field">
                                                <div class="field-value">
                                                    <div class="field-value">
                                                        <label>Quantity<span class="asterick">*</span></label>
                                                        <input ng-model="service.quantity" ng-change="calculateTotalAmountAndNetPayable(service.quantity,$index)" style="width: 3em;" type="number" min="1" ng-required="true"/>
                                                    </div>
                                                </div>
                                            </article>
                                        </td>

                                        <td>
                                            <article class="form-field" >
                                                <div class="field-value">
                                                    <div class="field-value">
                                                         <label>Total Amount<span class="asterick">*</span></label>
                                                        <input ng-model="service.totalAmount" style="width: 5em;" type="text"  ng-required="true" readonly/>
                                                    </div>
                                                </div>
                                            </article>
                                        </td>

                                        <td>
                                            <article class="form-field">
                                                <div class="field-value">
                                                    <div class="field-value">
                                                        <label>Discount<span class="asterick">*</span></label>
                                                        <input ng-model="service.discount"  ng-change="calculateNetAmount(service.discount,$index)" style="width: 5em;" type="number" min="0" ng-required="true"/>
                                                    </div>
                                                </div>
                                            </article>
                                        </td>

                                        <td>
                                            <article class="form-field">
                                                <div class="field-value">
                                                    <div class="field-value">
                                                        <label>Net Payable Amount<span class="asterick">*</span></label>
                                                        <input ng-model="service.netPayable" style="width: 5em;" type="text"  ng-required="true" readonly/>
                                                    </div>
                                                </div>
                                            </article>

                                        </td>
                                        <td>
                                            <button class="remove" ng-show="!$first"  ng-click="removeThis($index)">X</button>
                                            <span><button class="remove" ng-show="$last" ng-click="addNewChoice()">+</button></span>

                                        </td>
                                    </tr>
                                </table>
                            </section>
                        </div>
                    </div>
                </div>

                <div class="submit-btn-container clearfix" id="buttonPrint">
                   <button  style="margin: 10px 20px 0 0"  class="right submit-btn"  ng-disabled="myForm.$invalid" ng-click="submitMoneyReceiptData(patientInfo,services,patient)" ng-disabled="enable=='false'">
                       <span ng-show="searchButtonText == 'Searching'"><i class="glyphicon glyphicon-refresh spinning"></i></span>
            {{ searchButtonText }}

                   </button>

                    <a onclick="return confirm('Do you really want to cancel this money receipt?')"  style="margin: 18px;" href="../clinical/index.html#/default/patient/{{patient.uuid}}/dashboard?currentTab=DASHBOARD_TAB_GENERAL_KEY"  class="right submit-btn" >Cancel</a>
                </div>

            </form>
            <br/>





        </div>



    </div>
    <!--<a class="left-panel-toggle" ng-click="toggleSideBar()">
        <i ng-if="!showLeftpanelToggle()" class="fa fa-bars" aria-hidden="true"></i>
        <i ng-if="showLeftpanelToggle()" class="fa fa-chevron-left" aria-hidden="true"></i>
    </a>

    <section class="concept-set-panel-left" ng-class="{'form-menu-toggeled': showLeftpanelToggle()}" >

        <div class="concept-set-panel-wrap" assign-height key="contentHeight">
            <div class="multi-select-lab-tests">
                <ul>
                    <li ng-repeat="conceptSet in allTemplates track by $index"
                        ng-if="conceptSet.isAvailable(context)  && conceptSet.formValidation(context, conceptSet)"  ng-class="openActiveForm(conceptSet)">
                        <a ng-click="showLeftPanelConceptSet(conceptSet)">
                            <span class="concept-set-name" ng-class="{'concept-set-name-extra':conceptSet.isValid === false}">
                                {{conceptSet.label}}
                                <span ng-if="conceptSet.observations[0].observationDateTime"> ( {{conceptSet.observations[0].observationDateTime|bahmniDate}} )</span>
                            </span>
                        </a>
                        <div class="button-wrap">
                            <label class="fa fa-exclamation-triangle fa-red" ng-show="conceptSet.isValid === false" ng-click="conceptSet.klass =='active' && focusOnErrors()"></label>
                            <label class="fr" ng-click="clonePanelConceptSet(conceptSet)" ng-if="isLastClonedSection(conceptSet) && conceptSet.canAddMore()"> <i class="fa fa-plus"></i></label>
                        </div>
                    </li>
                    <li class="emptymsg">{{::'EMPTY_TEMPLATE_MESSAGE' | translate}}</li>
                </ul>
            </div>
        </div>
    </section>
    <div class="concept-set-panel-right-wrap">
        <section class="concept-set-panel-right">
            <ul>
                <li ng-repeat="conceptSet in allTemplates" ng-if="leftPanelConceptSet==conceptSet">
                    <section class="concept-set-group section-grid" >
                        <ng-include src="'../common/concept-set/views/conceptSetGroupSection.html'"></ng-include>
                    </section>
                </li>
                <li class="concept-set-panel-no-template"  ng-style="{'height': contentHeight.height + 'px'}"> </li>
            </ul>
        </section>
    </div>-->
</div>
<!--{{patient}}-->
<!--<div style="width: 920px; text-align: center; padding: 10px">-->


<table width="900" border="0" align="center" cellpadding="0" cellspacing="0" id="moneyReceipt">
  <tr class="displayNone">
    <td align="left" valign="top"><img src="./../images/logo.jpg" width="162" height="228" /></td>
    <td align="left" valign="top"><table width="100%" border="0" cellspacing="0" cellpadding="0">
  <tr class="displayNone">
    <td colspan="8"><img src="./../images/banner.jpg" width="696" height="146" /></td>
    </tr>
  <tr class="displayNone">
    <td><img src="./../images/blank.png" width="40" height="1" /></td>
    <td><strong>Type:</strong></td>
    <td align="right">Static</td>
    <td><input name="" type="checkbox" ng-checked="checkedBox('Static',clinicType)" /></td>
    <td align="right">Satellite</td>
    <td><input name="" type="checkbox" ng-checked="checkedBox('Satellite',clinicType)" /></td>
    <td align="right">Slip No.</td>
    <td align="center" valign="middle" ng-bind="patientInfo.slipNo"></td>

  </tr>
  <tr class="displayNone">
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td align="right">&nbsp;</td>
    <td>&nbsp;</td>
    <td align="right">&nbsp;</td>
    <td>&nbsp;</td>
    <td align="right">Date:</td>
    <td align="center" valign="middle" ng-bind="patientInfo.moneyReceiptDate | date:'yyyy-MM-dd'"></td>
  </tr>
    </table>
</td>
  </tr>
  <tr class="displayNone">
    <td align="left" valign="top">UIC</td>
    <td>{{patient.UIC.value}}</td>
  </tr>
  <tr class="displayNone">
    <td colspan="2" align="left" valign="top"><img src="./../images/blank.png" width="100%" height="20" /></td>
  </tr>
  <tr class="displayNone">
    <td colspan="2" align="left" valign="top">
    <table width="100%" border="0" cellspacing="0" cellpadding="0" style="border:1px solid #666;">
      <tr>
        <td align="left" valign="top" style="border-bottom: 1px solid #666; padding-left:8px;"><strong><h3>Clinic Name:</h3></strong></td>
       <td style="border-bottom:1px solid #666;" ng-bind="patientInfo.clinicName"></td>
        <td align="left" valign="top" style="border-bottom:1px solid #666;"><h3>Clinic ID</h3></td>
        <td style="border-bottom:1px solid #666;">{{patient.ClinicCode.value}}</td>
        <td align="left" valign="top" style="border-bottom:1px solid #666;"><h3>Satellite Clinic ID</h3></td>
        <td style="border-bottom:1px solid #666;" ng-bind="patientInfo.sateliteClinicId"></td>
        <td align="left" valign="top" style="border-bottom:1px solid #666;"><h3>Team no.</h3></td>
        <td style="border-bottom:1px solid #666;" ng-bind="patientInfo.teamNo"></td>
      </tr>
      <tr>
        <td colspan="8"><table width="100%" border="0" cellspacing="0" cellpadding="0">
          <tr>
           <td align="left" valign="top" style="padding:8px;">1. Name:</td>
            <td colspan="3" align="left" valign="bottom">{{patient.name}}</td>
            <td align="left" valign="top" style="padding:8px;">2. Gender:</td>
            <td align="left" valign="top" style="padding:8px;"><input name="input" type="checkbox" ng-checked="checkedBox('M',patient.gender)" /></td>
            <td align="left" valign="top" style="padding:8px;">Male</td>
            <td align="left" valign="top" style="padding:8px;"><input name="input2" type="checkbox" ng-checked="checkedBox('F',patient.gender)"/></td>
            <td align="left" valign="top" style="padding:8px;">Female</td>
            <td align="left" valign="top" style="padding:8px;"><input name="input3" type="checkbox" ng-checked="checkedBox('O',patient.gender)" /></td>
            <td align="left" valign="top" style="padding:8px;">Other</td>
          </tr>
          <tr>
           <td align="left" valign="top" style="padding:20px 0 20px 8px;">3. DoB</td>
            <td style="padding:20px 0 20px 8px;">{{patient.birthdate | date:'yyyy-MM-dd'}}</td>
            <td style="padding:20px 0 20px 8px;">4. Age:</td>
            <td style="padding:20px 0 20px 8px;">{{htmlToPlaintext(patient.ageText)}}</td>
            <td style="padding:20px 0 20px 8px;">5. Classification:</td>
            <td style="padding:20px 0 20px 8px;">1. Able to pay</td>
            <td style="padding:20px 0 20px 8px;"><span style="padding:8px;">
              <input name="input4" type="checkbox" ng-checked="checkedBox('Able to Pay',patient.FinancialStatus.value.display)"/>
            </span></td>
            <td style="padding:20px 0 20px 8px;">2. Poor</td>
            <td style="padding:20px 0 20px 8px;"><span style="padding:8px;">
              <input name="input5" type="checkbox" ng-checked="checkedBox('Poor',patient.FinancialStatus.value.display)" />
            </span></td>
            <td style="padding:20px 0 20px 8px;">3.PoP</td>
            <td style="padding:20px 0 20px 8px;"><span style="padding:8px;">
              <input name="input6" type="checkbox" ng-checked="checkedBox('PoP',patient.FinancialStatus.value.display)" />
            </span></td>

          </tr>
         <tr>
            <td align="left" valign="top" style="padding:20px 0 20px 8px;">6. Address:</td>
            <td colspan="3" style="padding:20px 0 20px 8px;">{{address(patient.address)}}</td>
            <td style="padding:20px 0 20px 8px;">7. Mobile No.</td>
            <td colspan="6" style="padding:20px 0 20px 8px;"> {{patient.MobileNo.value}}</td>
            </tr>
          <tr>
            <td align="left" valign="top" style="padding:20px 0 20px 8px;">8. Session:</td>
            <td colspan="10" style="padding:20px 0 20px 8px;" ng-bind="patientInfo.session"></td>
            </tr>
          <tr>
            <td align="left" valign="top">9. Reference:</td>
            <td colspan="10">{{patientInfo.reference}}, {{patientInfo.reference}} ID: {{patientInfo.referenceId}}</td>
          </tr>
          <tr>
            <td colspan="2" align="left" valign="top">10. Birth District</td>
            <td colspan="2" >{{patient.birthDistrict.value}}</td>
            <td>11. Birth Upazila:</td>
            <td colspan="6">&nbsp;{{patient.birthUpazilla.value}}</td>
            </tr>
          <tr>
            <td colspan="2" align="left" valign="top" style="padding:20px 0 20px 8px;">12. Birth Rank:</td>
            <td colspan="2" style="padding:20px 0 20px 8px;">{{patient.birthRank.value}}</td>
            <td colspan="2" style="padding:20px 0 20px 8px;">13. Birth Mother's First Name:</td>
            <td colspan="5" style="padding:20px 0 20px 8px;">{{patient.birthMothersFirstName.value}}</td>
            </tr>

        </table></td>
        </tr>
    </table></td>
  </tr>
  <tr class="displayNone">
    <td colspan="2" align="left" valign="top"  style="padding:20px 0 20px 8px;">14. Service and Payable Amount</td>
  </tr>
  <tr>
    <td colspan="2" align="left" valign="top">
      <table width="100%" border="0"  style="border:1px solid #666;" cellspacing="0" cellpadding="0">
          <tr>
            <td align="center" valign="top" bgcolor="#CCCCCC"  style="padding:20px 0 20px 8px; border-bottom:1px solid #666; border-right:1px solid #666;"><strong>SL</strong></td>
            <td align="center" valign="top" bgcolor="#CCCCCC"  style="padding:20px 0 20px 8px; border-bottom:1px solid #666; border-right:1px solid #666;"><strong>Service Code (A)</strong></td>
            <td align="center" valign="top" bgcolor="#CCCCCC"  style="padding:20px 0 20px 8px; border-bottom:1px solid #666; border-right:1px solid #666;"><strong>Service/Medicine/ Other (B)</strong></td>
            <td align="center" valign="top" bgcolor="#CCCCCC"  style="padding:20px 0 20px 8px; border-bottom:1px solid #666; border-right:1px solid #666;"><strong>Quantity (C)</strong></td>
            <td align="center" valign="top" bgcolor="#CCCCCC"  style="padding:20px 0 20px 8px; border-bottom:1px solid #666; border-right:1px solid #666;"><strong>Unit cost (D)</strong></td>
            <td align="center" valign="top" bgcolor="#CCCCCC"  style="padding:20px 0 20px 8px; border-bottom:1px solid #666; border-right:1px solid #666;"><strong>Total Amount (E)</strong></td>
            <td align="center" valign="top" bgcolor="#CCCCCC"  style="padding:20px 0 20px 8px; border-bottom:1px solid #666; border-right:1px solid #666;"><strong>Discount (F)</strong></td>
            <td align="center" valign="top" bgcolor="#CCCCCC"  style="padding:20px 0 20px 8px; border-bottom:1px solid #666;"><strong>Net Payable Amount (G)</strong></td>
          </tr>
          <tr ng-repeat="service in services track by $index">
               <td align="left" valign="top"  style="padding:20px 0 20px 8px; border-bottom:1px solid #666; border-right:1px solid #666;">{{$index}} </td>
               <td align="left" valign="top"  style="padding:20px 0 20px 8px; border-bottom:1px solid #666; border-right:1px solid #666;">{{service.item.code}} </td>
               <td align="left" valign="top"  style="padding:20px 0 20px 8px; border-bottom:1px solid #666; border-right:1px solid #666;">{{service.item.name}} </td>
               <td align="left" valign="top"  style="padding:20px 0 20px 8px; border-bottom:1px solid #666; border-right:1px solid #666;">{{service.quantity}} </td>
               <td align="left" valign="top"  style="padding:20px 0 20px 8px; border-bottom:1px solid #666; border-right:1px solid #666;">{{service.unitCost}}</td>
               <td align="left" valign="top"  style="padding:20px 0 20px 8px; border-bottom:1px solid #666; border-right:1px solid #666;">{{service.totalAmount}} </td>
               <td align="left" valign="top"  style="padding:20px 0 20px 8px; border-bottom:1px solid #666; border-right:1px solid #666;">{{service.discount}}</td>
               <td align="left" valign="top"  style="padding:20px 0 20px 8px; border-bottom:1px solid #666; border-right:1px solid #666;">{{service.netPayable}} </td>
           </tr>
            <tr>
            <td colspan="5" align="right" valign="top"  style="padding:20px 0 20px 8px; border-bottom: 1px solid #666;  border-right:1px solid #666;"><strong>Total Taka</strong></td>
            <td align="left" valign="top"  style="padding:20px 0 20px 8px; border-bottom: 1px solid #666; border-right:1px solid #666;">&nbsp; {{calTotalAmount()}}</td>
            <td align="left" valign="top"  style="padding:20px 0 20px 8px; border-bottom: 1px solid #666; border-right:1px solid #666;">&nbsp; {{calTotalDiscount()}}</td>
            <td align="left" valign="top"  style="padding:20px 0 20px 8px;border-bottom: 1px solid #666;">{{calTotalNetAmount()}} </td>
          </tr>
          <tr>
              <td colspan="7" align="right" valign="top"  style="padding:20px 0px 20px 8px;"><img src="image/blank.png" width="1" height="20" /></td>

              <td align="right" valign="top"  style="padding:20px 0px 20px 8px;">In Words: {{inwords(calTotalNetAmount())}}</td>
          </tr>

    </table></td>
  </tr>
  <tr>
    <td colspan="2" align="left" valign="top"  style="padding:20px 0 20px 8px;"><img src="image/blank.png" width="1" height="20" /></td>
  </tr>
  <tr>
    <td colspan="2" align="left" valign="top"><table width="100%" border="0" cellspacing="0" cellpadding="0">
  <tr class="displayNone">
 	<td align="center" valign="top"  style="padding:4px 0 20px 8px; border-top:1px solid #666;">Name of data collector</td>
    <td align="left" valign="top"  style="padding:4px 0 20px 8px;">&nbsp;</td>
    <td align="left" valign="top"  style="padding:4px 0 20px 8px;">&nbsp;</td>
    <td align="center" valign="top"  style="padding:4px 0 20px 8px; border-top:1px solid #666;">Designation</td>
    <td align="left" valign="top"  style="padding:4px 0 20px 8px;">&nbsp;</td>
    <td align="left" valign="top"  style="padding:4px 0 20px 8px;">&nbsp;</td>
    <td align="center" valign="top"  style="padding:4px 0 20px 8px; border-top:1px solid #666;">Signature</td>
    <td align="left" valign="top"  style="padding:4px 0 20px 8px;">&nbsp;</td>
    <td align="left" valign="top"  style="padding:4px 0 20px 8px;">&nbsp;</td>
  </tr>
</table>
</td>
  </tr>
</table>

 <button  style="float: right;margin-top: 10px;" onclick="printMoneyReceipt()">Print</button>

<!--
<script>
    $("#add_new").click(function () {
    $("#addItemTable").each(function () {
        var tds = '<tr>';
        jQuery.each($('tr:last td', this), function () {
            tds += '<td>' + $(this).html() + '</td>';
        });
        tds += '</tr>';
        if ($('tbody', this).length > 0) {
            $('tbody', this).append(tds);
        } else {
            $(this).append(tds);
        }
    });
});
</script>-->

<style>
.displayNone {
display:block
}
</style>
<style>
    @media print {

  /*#consultation-content{
        visibility:visible;
  }*/
  #serviceSection {
    visibility: collapse;
  }
  #patientContext {
       visibility: collapse;
  }
  #opd-tabs {
      visibility: collapse;
  }
  #buttonPrint {
      visibility: collapse;
  }
  .displays {
      visibility: visible;
  }

  .displayNone {
	display:block;
	}

}
</style>
<script>


 function printMoneyReceipt() {
   var divToPrint=document.getElementById("moneyReceipt");
   newWin= window.open("");
   newWin.document.write(divToPrint.outerHTML);
   newWin.print();
   newWin.close();
}
$(function(){
    var dtToday = new Date();

    var month = dtToday.getMonth() + 1;
    var day = dtToday.getDate();
    var year = dtToday.getFullYear();
    if(month < 10)
        month = '0' + month.toString();
    if(day < 10)
        day = '0' + day.toString();

    var maxDate = year + '-' + month + '-' + day;

    $('#txtDate').attr('max', maxDate);
});
$(document).ready(function() {
    $('.js-example-basic-single').select2();
});
</script>

<!--
style="max-width: 100%;" class="js-example-basic-single"-->
